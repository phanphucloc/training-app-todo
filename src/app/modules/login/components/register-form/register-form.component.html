<form [formGroup]="registerForm" (ngSubmit)="submit()">
  <mat-card-header>
    <mat-card-title class="title">
      <span class="material-icons">person_add</span>
      <span class="text-icons-middle" i18n="@@block-formLogin-title-register"> Register</span>
    </mat-card-title>
  </mat-card-header>

  <mat-card-content class="list-input">
    <mat-form-field class="example-full-width item-input">
      <mat-label>
        <span>Email</span>
      </mat-label>
      <input matInput cdkFocusInitial formControlName="email" />
      <mat-error i18n="@@block-formLogin-error-emailRequired" *ngIf="
          registerForm?.get('email')?.errors?.required &&
          registerForm?.get('email')?.touched
        ">
        Email is required
      </mat-error>
      <mat-error *ngIf="
          registerForm?.get('email')?.hasError('maxlength') &&
          registerForm?.get('email')?.touched
        ">
        <span i18n="@@block-formLogin-error-emailMaxLength">
          Max length is:
        </span>
        <span>
          {{ registerForm.get("email")?.errors.maxlength.requiredLength }}
        </span>
      </mat-error>
      <mat-error *ngIf="
          !registerForm?.get('email')?.hasError('maxlength') &&
          registerForm?.get('email')?.hasError('emailIncorrect') &&
          registerForm?.get('email')?.touched
        ">
        <span i18n="@@block-formLogin-error-emailFormat">
          Email format is incorrect
        </span>
      </mat-error>
    </mat-form-field>

    <mat-form-field class="example-full-width item-input">
      <mat-label>
        <span>Password</span>
      </mat-label>
      <input matInput type="password" formControlName="password" />
      <mat-error *ngIf="
          registerForm?.get('password')?.errors?.required &&
          registerForm?.get('password')?.touched
        ">
        <span i18n="@@block-formLogin-error-passwordRequired"></span>
        password is required
      </mat-error>
      <mat-error *ngIf="
          registerForm?.get('password')?.hasError('maxlength') &&
          registerForm?.get('password')?.touched
        ">
        <span i18n="@@block-formLogin-error-passwordMaxlength">
          Max length is:
        </span>
        <span>
          {{ todoForm.get("password")?.errors.maxlength.requiredLength }}
        </span>
      </mat-error>
    </mat-form-field>

    <mat-error *ngIf="registerForm?.hasError('incorrect')">
      <span i18n="@@block-formLogin-error-emailPassword">
        Email and password do not exist
      </span>
    </mat-error>

    <a class="text-redirect" [routerLink]="['/auth/login']">
        <span class="material-icons">
            arrow_back
        </span>
        <span class="text-icons-middle" i18n="@@block-formLogin-text-go-to-login">
            Go back to Login
        </span>
    </a>

  </mat-card-content>
  <mat-card-actions class="list-actions" align="center">
    <button mat-raised-button type="submit" color="primary"
      [disabled]="registerForm?.invalid || registerForm?.pending || loading">
      <ng-container *ngIf="loading; else textTpl">
        <mat-spinner class="spinner center small"></mat-spinner>
      </ng-container>
      <ng-template #textTpl>
        <span i18n="@@block-formLogin-button-register" class="text-icons-middle">
            Register
        </span>
      </ng-template>
    </button>
  </mat-card-actions>
</form>
